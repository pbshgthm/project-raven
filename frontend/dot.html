<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script src="d3.min.js"></script>
    <script src="support.js"></script>
    <script src="data.json"></script>
    <title>Raven Chart</title>
	
</head>
<body>
	<div id="ground"></div>
</body>
<script type="text/javascript">


var clrs=['#e53935','#D81B60','#8E24AA','#5E35B1','#3949AB','#1E88E5','#039BE5','#00ACC1','#00897B','#43A047','#7CB342','#C0CA33','#F9A825','#FF8F00','#FB8C00','#F4511E','#6D4C41','#757575','#546E7A']

Data.init(raw_data);

data=[]
for(var i=0;i<1000;i++){
	data.push([Math.random()*1400,Math.random()*550,Math.random()*360])
}

var svg = d3.select("#ground")
  			.append("svg")
    		.attr("width", 1400)
    		.attr("height", 800)
    		//.style('background-color','#ECEFF1')

    circles=svg.append('g')
     	.selectAll("dot")
    	.data(data)
    	.enter()
    	.append("circle")

    circles.attr("cx", function (d) { return d[0]; } )
      	.attr("cy", function (d) { return d[1]; } )
      	.attr("r", 2.5 )
      	//.style("fill", function(d){return "hsl("+d[2]+",70%,70%)"})
      	.style("fill",'#BF360C')
        .style('opacity',1)


function update(data) {

	//data=[]
	//for(var i=0;i<1000;i++){
	//	data.push([Math.random()*800,Math.random()*800,Math.random()*360])
	//}

    circles.data(data)
    	.transition()
    	.ease(d3.easeSin)
        .duration(1000)
        .attr("cx", function(d) { return d[0]; })
        .attr("cy", function(d) { return d[1]; })
        //.style('fill',function(d){ return d[2]; })

}

function ageDots(){

  rData=Data.ageDist();
  data=[]
  for(var i=0;i<rData.length;i++)
    data.push(Math.round(rData[i]/(12.458)))

  var dot_size=2.5;
  var base_y=500;
  var start_x=150;
  var width=5;
  var dot_pad=2;
  var bar_pad=10;

  var ageBin=[]
  var pad=dot_pad+dot_size*2;
  for(var i=0;i<data.length;i++){
    s_x=start_x+(bar_pad+width*pad)*i;

    for(var j=0;j<data[i];j++){
      ageBin.push([s_x+pad*(j%width),base_y-Math.floor(j/width)*pad])
    }
  }
  return ageBin
}


  		
</script>
</html>